<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Money Picks</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <div class="container">
        <h1>Money Picks</h1>
        <h2>Winning Numbers:</h2>
        <p th:text="${winningNumbers}"></p>
        <!-- You can add more result details here -->
    </div>

    <div class="container">
        <h2>Your Picks</h2>
        <form action="/submitPicks" method="post">
            <label for="pick1">Pick 1:</label>
            <input type="text" id="pick1" name="pick1"><br><br>
            <label for="pick2">Pick 2:</label>
            <input type="text" id="pick2" name="pick2"><br><br>
            <label for="pick3">Pick 3:</label>
            <input type="text" id="pick3" name="pick3"><br><br>
            <button type="submit">Submit Picks</button>
        </form>
        <p id="result">Result: </p>
    </div>
    
    <button id="generateButton">Generate Number</button>
    <script src="script.js">
        document.addEventListener('DOMContentLoaded', function() {
    const generateButton = document.getElementById('generateButton');
    generateButton.addEventListener('click', function() {
        const pick1 = document.getElementById('pick1').value;
        const pick2 = document.getElementById('pick2').value;
        const pick3 = document.getElementById('pick3').value;

        const xhr = new XMLHttpRequest();
        xhr.open('POST', '/userPicks');
        xhr.setRequestHeader('Content-Type', 'application/json');

        const data = {
            pick1: pick1,
            pick2: pick2,
            pick3: pick3
        };

        xhr.onload = function() {
            if (xhr.status === 200) {
                const responseData = JSON.parse(xhr.responseText);

                document.getElementById('winningNumbers').innerText = responseData.winningNumbers.join(', ');
                document.getElementById('outcome').innerText = responseData.outcome;
            } else {
                console.error('Request failed with status:', xhr.status);
            }
        };

        xhr.send(JSON.stringify(data));
    });
});

    </script>
</body>
</html>